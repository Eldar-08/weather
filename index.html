<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Weather â€” Home</title>
	<link rel="stylesheet" href="styles.css">
	<style>
		/* small page-specific tweaks */
		.title small {
			display: block;
			font-size: 18px;
			color: rgba(255, 255, 255, 0.8);
			font-weight: 600
		}
	</style>
</head>

<body>
	<div class="wrap">
		<header>
			<div class="logo">Weather<span style="color:#ffd36b">.</span></div>
			<nav class="nav">
				<a href="index.html">Home</a>
				<a href="weather.html">Weather</a>
				<a href="about.html">About</a>
			</nav>
		</header>

		<main>
			<div class="stage">
				<!-- Left: start screen -->
				<div class="phone">
					<div class="screen">
						<div class="hero-illustration">
							<!-- simple weather SVG -->
							<svg width="160" height="120" viewBox="0 0 160 120" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<ellipse cx="50" cy="70" rx="36" ry="20" fill="#ffffff" fill-opacity="0.9" />
								<g transform="translate(70,10)">
									<circle cx="0" cy="0" r="22" fill="#ffd36b" />
								</g>
								<rect x="40" y="60" width="80" height="18" rx="6" fill="#66c0ff"
									transform="rotate(-18 40 60)" />
							</svg>
						</div>
						<div class="title">Weather <small>ForeCasts</small></div>
						<div class="subtitle">Beautiful & simple weather app</div>
						<a class="cta" href="weather.html">Get Start</a>
					</div>
				</div>

				<!-- Center: main weather preview -->
				<div class="phone">
					<div class="screen">
						<div style="margin-top:6px;text-align:center">
							<div style="font-size:14px;color:var(--muted);" id="homeLabel">Today</div>
							<div class="temp" id="homeTemp">19Â°</div>
							<div class="temp-sub" id="homeDesc">Precipitations Â· Max: 24Â° Â· Min: 18Â°</div>
						</div>
						<div style="text-align:center;font-size:48px;margin:10px 0" id="homeIcon">ğŸŒ¤ï¸</div>
						<div class="card" style="width:100%">
							<div style="font-weight:700;margin-bottom:8px" id="homeCity">Bishkek</div>
							<div style="color:var(--muted);margin-bottom:12px" id="homeDate">Dec, 01</div>
							<div class="forecast-row" id="homeForecast">
								<div class="forecast-item">15:00<br><span style="font-weight:700">19Â°</span></div>
								<div class="forecast-item">16:00<br><span style="font-weight:700">18Â°</span></div>
								<div class="forecast-item">17:00<br><span style="font-weight:700">18Â°</span></div>
								<div class="forecast-item">18:00<br><span style="font-weight:700">18Â°</span></div>
							</div>
						</div>
						<div style="margin-top:auto;display:flex;gap:10px;width:100%;justify-content:space-between">
							<a href="about.html" class="cta"
								style="background:transparent;border:1px solid rgba(255,255,255,0.08);color:#fff;flex:1;margin-right:6px;text-align:center">About</a>
							<a href="weather.html" class="cta" style="flex:1">Open</a>
						</div>
					</div>
				</div>

				<!-- Right: more screen preview -->
				<div class="phone">
					<div class="screen">
						<div style="width:100%;text-align:center;margin-top:20px">
							<div style="font-weight:700;font-size:16px">North America</div>
							<div style="color:var(--muted);margin-top:6px">Max: 24Â° Â· Min: 18Â°</div>
						</div>
						<div class="card" style="width:100%;margin-top:18px">
							<div style="display:flex;align-items:center;justify-content:space-between">
								<div>
									<div style="font-weight:700">Air Quality</div>
									<div style="color:var(--muted)">3 - Low Health Risk</div>
								</div>
								<div style="text-align:right">
									<div style="font-weight:800;font-size:20px">4</div>
									<div style="color:var(--muted)">Moderate</div>
								</div>
							</div>
						</div>
						<div style="margin-top:auto"></div>
					</div>
				</div>

			</div>
		</main>

		<footer>Created for demo â€” open <a href="weather.html" style="color:inherit">weather</a> or <a href="about.html"
				style="color:inherit">about</a></footer>
	</div>

	<script>
		// Function 1: Get current date and day
		function getCurrentDate() {
			const date = new Date();
			const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
			return date.toLocaleDateString('en-US', options);
		}

		// Function 2: Validate email format
		function isValidEmail(email) {
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			return emailRegex.test(email);
		}

		// Function 3: Generate random greeting
		function getGreeting(hour = new Date().getHours()) {
			if (hour < 12) return 'Good Morning';
			if (hour < 18) return 'Good Afternoon';
			return 'Good Evening';
		}

		// Function 4: Calculate days until next event
		function daysUntilDate(targetDate) {
			const today = new Date();
			const target = new Date(targetDate);
			const diffTime = target - today;
			const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
			return diffDays;
		}

		// Function 5: Format large numbers with commas
		function formatNumber(num) {
			return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
		}

		// Get weather icon
		function getWeatherIcon(code) {
			const weatherCodes = {
				0: 'â˜€ï¸', 1: 'ğŸŒ¤ï¸', 2: 'â›…', 3: 'â˜ï¸', 45: 'ğŸŒ«ï¸', 48: 'ğŸŒ«ï¸',
				51: 'ğŸŒ§ï¸', 53: 'ğŸŒ§ï¸', 55: 'ğŸŒ§ï¸', 61: 'ğŸŒ§ï¸', 63: 'ğŸŒ§ï¸', 65: 'â›ˆï¸',
				71: 'â„ï¸', 73: 'â„ï¸', 75: 'â„ï¸', 80: 'ğŸŒ§ï¸', 81: 'â›ˆï¸', 82: 'â›ˆï¸',
				85: 'â„ï¸', 86: 'â„ï¸', 95: 'â›ˆï¸', 96: 'â›ˆï¸', 99: 'â›ˆï¸'
			};
			return weatherCodes[code] || 'ğŸŒ¤ï¸';
		}

		// Format time
		function formatTime(hour, minute = 0) {
			const h = String(hour).padStart(2, '0');
			const m = String(minute).padStart(2, '0');
			return `${h}:${m}`;
		}

		// Fetch weather data from Open-Meteo API
		async function fetchBishkekWeather() {
			try {
				const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=42.8746&longitude=74.5698&current=temperature_2m,weather_code&hourly=temperature_2m,weather_code&daily=temperature_2m_max,temperature_2m_min&forecast_days=1&timezone=auto`);
				const data = await response.json();

				const current = data.current;
				const hourly = data.hourly;
				const daily = data.daily;

				return {
					temperature: current.temperature_2m,
					condition: current.weather_code,
					maxTemp: daily.temperature_2m_max[0],
					minTemp: daily.temperature_2m_min[0],
					hourlyTemps: hourly.temperature_2m.slice(0, 4),
					hourlyConditions: hourly.weather_code.slice(0, 4)
				};
			} catch (error) {
				console.error('Error fetching Bishkek weather:', error);
				return null;
			}
		}

		// Update home page with Bishkek weather
		async function loadBishkekWeather() {
			const weather = await fetchBishkekWeather();
			if (weather) {
				document.getElementById('homeTemp').textContent = Math.round(weather.temperature) + 'Â°';
				document.getElementById('homeDesc').textContent = `Max: ${Math.round(weather.maxTemp)}Â° Â· Min: ${Math.round(weather.minTemp)}Â°`;
				document.getElementById('homeIcon').textContent = getWeatherIcon(weather.condition);

				const today = new Date();
				const dateStr = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
				document.getElementById('homeDate').textContent = dateStr;

				// Update hourly forecast
				const forecastRow = document.getElementById('homeForecast');
				forecastRow.innerHTML = '';
				const currentHour = today.getHours();

				for (let i = 0; i < 4; i++) {
					const hour = (currentHour + i) % 24;
					const hourStr = formatTime(hour, 0);
					const temp = Math.round(weather.hourlyTemps[i]);
					const icon = getWeatherIcon(weather.hourlyConditions[i]);

					const item = document.createElement('div');
					item.className = 'forecast-item';
					item.innerHTML = `${hourStr}<br><span style="font-weight:700">${temp}Â°</span><br>${icon}`;
					forecastRow.appendChild(item);
				}
			}
		}

		// Load Bishkek weather on page load
		window.addEventListener('load', () => {
			loadBishkekWeather();
		});
	</script>
</body>

</html>